<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Yan Huang&#39;Blog Space">
    <meta name="keyword" content="undefined">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="黄炎博客空间" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        ContinousDelivery｜undefined
        
    </title>

    <link rel="canonical" href="http://yoursite.com/2017/06/19/ContinousDelivery/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('undefined')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    黄炎博客空间
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="">


<style>
    
    header.intro-header {
        background-image: url('')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>ContinousDelivery</h1>
                    
                    <span class="meta">
                         作者 Yan Huang
                        <span>
                          日期 2017-06-19
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            ContinousDelivery
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p>DevOps是当前炒的很火热的概念，实践DevOps的方法涉及两个方面，一是如何持续管理需求、变更和及时处理用户反馈，通过工具固化一定的流程，有效的管理需求和变更。另一方面就是如何持续交付。<br>作为DevOps流程的核心实践<strong>持续交付(Continuous Delivery)</strong>在这其中能够为软件项目带来什么价值呢？本文将结合持续交付的具体实践展开分析与讨论。</p>
<h2 id="入手持续交付"><a href="#入手持续交付" class="headerlink" title="入手持续交付"></a>入手持续交付</h2><p><strong>持续交付最基本的原则是：</strong></p>
<blockquote>
<p>提前并频繁地内部交付，将几乎所有事情自动化</p>
</blockquote>
<p>持续交付最核心的实践是自动化，通过将每一次改动都提交到一个模拟产品环境中，使用严格 的自动化测试，确保业务应用和服务能符合预期，使用完全的自动化过程来把每个变更自动的提交到测试环境。<br>实现自动化的持续交付基于部署流水线模式。</p>
<p>部署流水线的目的是让软件交付过程中的每个人都能看到每个构建版本从提交到发布的整个过程，将开发机构的文化、流程和工具整合到一起，这也符合了DevOps的核心理念<strong>将开发机构的文化、流程和工具整合到一起</strong>。<br>下面讨论部署流水线的细节。</p>
<h3 id="脚本化构建与部署"><a href="#脚本化构建与部署" class="headerlink" title="脚本化构建与部署"></a>脚本化构建与部署</h3><p>脚本化构建与部署应以迭代的方式来识别最困难的步骤，并将其自动化，沿着部署流水线，逐步完善自动化构建和部署能力。脚本化构建与部署应该遵循如下原则：</p>
<ul>
<li>为部署流水线的每个阶段创建脚本，表达构建流程。</li>
<li>使用同样的脚本向所有环境部署，保证在所有环境上都能运行。</li>
<li>确保部署过程是幂等的。</li>
<li>增量式部署。</li>
</ul>
<h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p>提交阶段发生在像版本控制库提交代码，是流水线的入口。提交阶段应遵循如下原则：</p>
<ul>
<li>Dev保证本地构建成功后提交</li>
<li>测试不通过令提交失败，并记录错误信息，反馈Dev尽快修复，Dev对自己的问题负责</li>
<li>提交失败后可以回滚版本</li>
<li>降低构造测试环境的复杂性，保证测试代码整洁有效性。</li>
</ul>
<h3 id="自动化验收测试"><a href="#自动化验收测试" class="headerlink" title="自动化验收测试"></a>自动化验收测试</h3><p>单元测试不能保证捕获所有问题，因此需要验收测试来保证软件质量。频繁的手工测试带来高昂成本，采用自动化验收测试便于频繁发布软件。<br>自动化验收测试使得团队成员都关注于真正的工作：业务价值，为软件能否满足标准提供了更高得信心，快速向开发团队反馈问题，便于软件大规模重构。</p>
<h3 id="非功能性需求测试"><a href="#非功能性需求测试" class="headerlink" title="非功能性需求测试"></a>非功能性需求测试</h3><p>非功能需求测试包括容量、吞吐量以及性能测试。<br>将非功能性需求加入到部署流水线上，便于软件设计执行实验场景来帮助诊断预测问题。<br>对于非功能需求，过早地关注容量优化是低效且昂贵的，有可能造成过度设计，<strong>除非性能有问题，不在代码可读性上让步</strong>。</p>
<h3 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h3><p>频繁地将软件发布到不同的测试环境中，能够降低发布的风险，降低上线压力。<br>发布过程将组织各部门联系起来：运维团队，开发团队，测试团队，技术支持团队，交付团队，促进交流合作。</p>
<h2 id="持续交付对于运维的改变"><a href="#持续交付对于运维的改变" class="headerlink" title="持续交付对于运维的改变"></a>持续交付对于运维的改变</h2><p>DevOps将敏捷方法引入到系统管理与运营，有两点主要原则：</p>
<ul>
<li>强调合作</li>
<li>利用敏捷技术对基础设施进行有效管理</li>
</ul>
<p>运维负责将代码部署到生成环境中，持续交付从一开始就让运维参与进来，两者共同的利益是<br><strong>让发布有价值、稳定得软件成为一件低风险的事</strong><br>持续交付的核心实践 <strong>尽可能频繁的发布</strong> 保证了这一点，从而成为了DevOps的关键步骤。</p>
<h3 id="自动化环境管理"><a href="#自动化环境管理" class="headerlink" title="自动化环境管理"></a>自动化环境管理</h3><p>对于运维人员的工作，关键的痛点在于部署系统到不同配置的大量基础设施上，对基础设置的管理往往利用脚本管理，修改基础设施的技术也应该是发布的一部分。<br>将基础设施的配置自动化，纳入流水线并配置测试会大大便于运维的部署管理工作。</p>
<h3 id="另一种方案，使用docker进行持续集成"><a href="#另一种方案，使用docker进行持续集成" class="headerlink" title="另一种方案，使用docker进行持续集成"></a>另一种方案，使用docker进行持续集成</h3><p>在业务不断增长过程中，企业的组件也随之不断扩张，随之带来了对基础设施的复杂配置管理工作。采用自动化部署配置管理无疑产生巨大成本，使用Docker——以“容器化”的方式去部署应用。 Docker像集装箱一样，打包了所有依赖，再在其他服务器上部署很容易，不至于换服务器后发现各种配置文件散落一地，这样就解决了编译时依赖和运行时依赖的问题。<br>利用Docker进行持续集成的流程如下：</p>
<ul>
<li>开发者提交代码；</li>
<li>触发镜像构建；</li>
<li>构建镜像上传至私有仓库；</li>
<li>镜像下载至执行机器；</li>
<li>镜像运行。</li>
</ul>
<h2 id="价值"><a href="#价值" class="headerlink" title="价值"></a>价值</h2><p>贯穿持续交付始终的是自动化手段，这也恰恰是软件行业所追求的，自动化的交付过程带来了诸多益处：</p>
<ul>
<li>快速发现错误。每完成一点更新，就集成到主干，可以快速发现错误，定位错误也比较容易。</li>
<li>快速发布。能够应对业务需求，并更快地实现软件价值。</li>
<li>编码-&gt;测试-&gt;上线-&gt;交付的频繁迭代周期缩短，同时获得迅速反馈；</li>
<li>高质量的软件发布标准。整个交付过程标准化、可重复、可靠，</li>
<li>整个交付过程进度可视化，方便团队人员了解项目成熟度；</li>
<li>更先进的团队协作方式。从需求分析、产品的用户体验到交互 设计、开发、测试、运维等角色密切协作，相比于传统的瀑布式软件团队，更少浪费。</li>
<li>更平滑的开发过程，减少上线风险，增强团队信心。</li>
</ul>

                <hr>
                

                <ul class="pager">
                    
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#入手持续交付"><span class="toc-text">入手持续交付</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#脚本化构建与部署"><span class="toc-text">脚本化构建与部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#提交"><span class="toc-text">提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动化验收测试"><span class="toc-text">自动化验收测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#非功能性需求测试"><span class="toc-text">非功能性需求测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#发布"><span class="toc-text">发布</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#持续交付对于运维的改变"><span class="toc-text">持续交付对于运维的改变</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#自动化环境管理"><span class="toc-text">自动化环境管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#另一种方案，使用docker进行持续集成"><span class="toc-text">另一种方案，使用docker进行持续集成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#价值"><span class="toc-text">价值</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                

                <!-- Friends Blog -->
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 黄炎博客空间 2017
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://yoursite.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','undefined','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="undefined">
</body>

</html>
